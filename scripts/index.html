<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="manifest" href="/manifest.webmanifest" />
    <link rel="apple-touch-icon" href="/icons/icon-192.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Trae Project</title>
    <link rel="stylesheet" href="/src/styles.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="anonymous" />
    <script type="module">
      if (import.meta.hot?.on) {
        import.meta.hot.on('vite:error', (error) => {
          if (error.err) {
            console.error(
              [error.err.message, error.err.frame].filter(Boolean).join('\n'),
            )
          }
        })
      }
    </script>
    <style>
      .quick-launch{position:fixed;right:16px;bottom:16px;display:flex;flex-direction:column;gap:8px;z-index:9999}
      .quick-launch button{background:#f59e0b;color:#111;padding:10px 12px;border:none;border-radius:12px;font-weight:700;cursor:pointer}
      .quick-launch .secondary{background:#151822;color:#e6e6e6;border:1px solid #1f2937}
      .quick-launch .stamp{background:#0b0d12;color:#9ca3af;border:1px solid #1f2937;font-weight:600}
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      (function(){
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.register('/sw.js').catch(function(){})
        }
      })()
    </script>
    <div class="quick-launch">
      <button onclick="window.open('/admin','_blank')">開啟管理端</button>
      <button onclick="window.open('/passenger','_blank')" class="secondary">開啟乘客</button>
      <button onclick="window.open('/driver','_blank')" class="secondary">開啟司機</button>
      <button class="stamp" id="bfStamp"></button>
    </div>
    <script>
      (function(){
        var el=document.getElementById('bfStamp');
        if(el){el.textContent='載入時間：'+new Date().toLocaleString('zh-TW')}
      })()
    </script>
  </body>
</html>
